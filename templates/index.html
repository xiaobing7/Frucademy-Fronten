{% extends "base-layout.html" %}
{% block title %}
    {{ super() }}
{% endblock %}
{% block head_link %}
    {{ super() }}
    <link href="{{ static_url('swiper-css') }}" rel="stylesheet" type="text/css" />
{% endblock %}
{% block head_css %}
    {{ super() }}
    <style type="text/css">
        html, body {
          position: relative;
          overflow-x: hidden;
          width：100%;
        }
        body {
            background: #fff;
            font-family: Helvetica Neue, Helvetica, Arial, sans-serif;
            font-size: 16px;
            color:#000;
            margin: 0;
            padding: 0;
            width：100%;
        }
        .advertise {
            width: 100%;
            height: 100%;
            background-color: #fff;
            overflow-x: hidden;
        }
        .navigator {
            width: 100%;
            background-color: #fff;
        }
        .swiper-slide {
            text-align: center;
            font-size: 18px;
            background: #fff;
            /* Center slide text vertically */
            display: -webkit-box;
            display: -ms-flexbox;
            display: -webkit-flex;
            display: flex;
            -webkit-box-pack: center;
            -ms-flex-pack: center;
            -webkit-justify-content: center;
            justify-content: center;
            -webkit-box-align: center;
            -ms-flex-align: center;
            -webkit-align-items: center;
            align-items: center;
        }
        .icon {
            text-align: center;
            font-size: 18px;
        }
        .banner{
            width: 100%;
            height: 100px;
            text-align:center;
            font-size: 18px;
            background-color: #fff;overflow:hidden;
        }
        .ui-grid-halve li {
            width: 47.5vw;
            height: 56.5vw;
        }
        .ui-grid-halve {
            width: 100vw;
        }
    </style>
{% endblock %}
{% block head_after_link %}
    {{ super() }}
{% endblock %}
{% block head_src %}
    {{ super() }}
{% endblock %}
{% block head_js %}
    {{ super() }}
{% endblock %}
{% block body_header %}
    {{ super() }}
{% endblock %}
{% block body_main %}
    {{ super() }}
    <section class="ui-container">
        <div class="advertise">
            <div class="swiper-wrapper">
                {# <div class="swiper-slide">
                    <img src="{{ static_url('_img/banner1.jpg') }}" class="img-responsive" />
                </div> #}
                <div class="swiper-slide">
                    <img src="{{ static_url('_img/banner2.jpg') }}" class="img-responsive" />
                </div>
                <div class="swiper-slide">
                    <img src="{{ static_url('_img/banner3.jpg') }}" class="img-responsive" />
                </div>
                <div class="swiper-slide">
                    <img src="{{ static_url('_img/banner4.jpg') }}" class="img-responsive" />
                </div>
            </div>
        </div>
        {#
        <div class="ui-row">
            <div class="ui-col ui-col-25 icon">
                <a href="{{ url_for('good.list_view', _suffix='') }}">
                    <img src="{{ static_url('_img/热销.png') }}" class="img-responsive" width="80%">
                    <p style="color:black">热销</p>
                </a>
            </div>
            <div class="ui-col ui-col-25 icon">
                <a href="{{ url_for('good.pointmall_view', _suffix='') }}">
                    <img src="{{ static_url('_img/积分商城.png') }}" class="img-responsive"
                         width="80%">
                    <p style="color:black">积分商城</p>
                </a>
            </div>
            <div class="ui-col ui-col-25 icon">
                <a href="{{ url_for('user.vip_view', _suffix='') }}">
                    <img src="{{ static_url('_img/会员.png') }}" class="img-responsive"
                         width="80%">
                    <p style="color:black">会员</p>
                </a>
            </div>
            <div class="ui-col ui-col-25 icon">
                <a href="{{ url_for('good.knowledge_view', _suffix='') }}">
                    <img src="{{ static_url('_img/果学.png') }}" class="img-responsive"
                         width="80%">
                    <p style="color:black">果学</p>
                </a>
            </div>
        </div>
        #}
        <!--<div class="ui-scroller">-->
            <div class="ui-tab navigator">
                <ul id="ul-category-list" class="ui-tab-nav ui-border-b swiper-wrapper" style="font-size:80%">
                    {% for category in category_list %}
                    <li class="swiper-slide" id="category_{{ category.id }}">{{ category.name }}</li>
                    {% endfor %}
                </ul>
                <ul id="ul-good-list" class="ui-tab-content">
                {% for category in category_list %}
                <li data-category-id="category_{{ category.id }}">
                    {% if category.fruits | length > 0 %}
                    <ul class="ui-grid-halve">
                        {% for fruit_item in category.fruits %}
                        <li>
                            <a href="{{ url_for('good.detail_view', good_id=fruit_item.id, _suffix='') }}">
                                <div class="ui-grid-halve-img">
                                    <span style="background-image:url({{ fruit_item.pic_url_1 }})"></span>
                                </div>
                            <div class="ui-flex ui-flex-pack-center" style="color:#FFA500;">
                                <div><p>￥</p></div>
                                <div class="ui-nowrap">
                                    <p class="ui-nowrap" >
                                    {{fruit_item.price_sell}}起
                                    </p>
                                </div>
                            </div>
                            </a>
                        </li>
                        {% endfor %}
                    </ul>
                    {% else %}
                    <div>
                        <p>商品即将上架，请耐心等待</p>
                    </div>
                    {% endif %}
                </li>
                {% endfor %}
                </ul>
            </div>
        <!--</div>-->
    </section>
{% endblock %}
{% block body_footer %}
    {{ super() }}

{% endblock %}
{% block body_src %}
    {{ super() }}
    <script src="{{ static_url('swiper-js') }}" type="text/javascript"></script>
{% endblock %}
{% block body_js %}
    {{ super() }}
    <script type="text/javascript">
        var swiper = new Swiper('.advertise', {
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            },
            speed: 600,
            fadeEffect: {
                crossFade: true,
            },
            autoplay: {
                delay:2000,
            }
        });

        //*
        var swiper2 = new Swiper('.navigator', {
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            },
            speed: 600,
            fadeEffect: {
                crossFade: true,
            },
            slidesPerView: 4,
            slidesPerGroup: 1,
        });
       // */
        $(function() {
            //*
            var tab = new fz.Scroll('.ui-tab', {
                role: 'tab',
                autoplay: false,
                interval: 3000
            });
            tab.on('beforeScrollStart', function(from, to) {
                // console.log(from, to);
            });
            tab.on('scrollEnd', function(curPage) {
                // console.log(curPage);
            });
            //*/
            /* 竖直滚动（fz 即 FrozenJS 的意思）*/
            /*var scroll = new fz.Scroll('.ui-scroller', {
                scrollY: true
            });*/

            $('#ul-category-list').find('li.swiper-slide:first-of-type').addClass('current');
            $('#ul-good-list').find('li[data-category-id]:first-of-type').addClass('current');

        });
    </script>
{% endblock %}
{% block body_after_src %}
    {{ super() }}
{% endblock %}
